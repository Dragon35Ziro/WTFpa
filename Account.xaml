<Window x:Class="WTFpa.Account"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:WTFpa"
      mc:Ignorable="d" 
      WindowState ="Maximized" MaxHeight="{Binding Source={x:Static SystemParameters.MaximizedPrimaryScreenHeight}}" MinHeight="{Binding Source={x:Static SystemParameters.MaximizedPrimaryScreenHeight}}" 
      MaxWidth = "{Binding Source={x:Static SystemParameters.MaximizedPrimaryScreenWidth}}" MinWidth="{Binding Source={x:Static SystemParameters.MaximizedPrimaryScreenWidth}}"
      Title="Account">



    <Window.Resources>
        <ControlTemplate x:Key="MenuBtn" TargetType="Button">
            <Grid x:Name="Btn" Height="100">
                <Border BorderThickness="2,0,2,2" BorderBrush="Cyan">
                    <StackPanel Orientation="Horizontal">
                        <Label Content="{TemplateBinding Content}"
                            
                               Margin="30,0,0,0"
                               Background="Transparent" FontSize="80" FontFamily = "Rec\fonts\#alumni sans pinstripe italic"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Center">
                            <Label.Style>
                                <Style TargetType="Label">
                                    <Setter Property="Foreground" Value="White"/>
                                    <Style.Triggers>



                                        <DataTrigger Binding="{Binding Path=IsMouseOver, ElementName=Btn}" 
                                             Value="true">
                                            <Setter Property="Foreground" Value="Cyan"/>
                                        </DataTrigger>
                                        <!-- Триггер IsPressed пока не работает т.к. его перебивает триггер IsFocused -->
                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource Mode=FindAncestor,
                                              AncestorType={x:Type Button}},
                                              Path=IsPressed}" Value="True">
                                            <Setter Property="Foreground" Value="White"/>
                                        </DataTrigger>

                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource Mode=FindAncestor,
                                                AncestorType={x:Type Button}},
                                                Path=IsFocused}" Value="True">
                                            <Setter Property="Foreground" Value="Cyan"/>
                                        </DataTrigger>





                                    </Style.Triggers>


                                </Style>
                            </Label.Style>

                        </Label>
                    </StackPanel>
                </Border>
                <!-- Крч триггеры которые нам дают эффект заднего фона когда мы на кнопочки наводим -->
                <Border Name="BackBtn" Background="White">
                    <Border.Style>
                        <Style TargetType="Border">
                            <Setter Property="Opacity" Value="0"/>
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Path=IsMouseOver, ElementName=Btn}" 
                                     Value="true">
                                    <Setter Property="Opacity" Value="0.2"/>
                                </DataTrigger>

                            </Style.Triggers>
                        </Style>
                    </Border.Style>

                </Border>
                <!-- КОНЕЦ Крч триггеры которые нам дают эффект заднего фона когда мы на кнопочки наводим -->


                <!--
                
                1
                
                ДЛЯ ЧАЙНИКОВ 
                - Почему мы не можем прописать все в одном бордере?
                - Ответ от гпт всея Руси: 
                Вы можете объединить эти триггеры в одном Border, но столкнулись с ограничением, 
                потому что два триггера (для IsMouseOver и IsFocused) могут работать параллельно и конфликтавать. В XAML можно задать оба состояния в одном Border, 
                но они будут срабатывать одновременно, если оба условия истинны.
                - Та же ошибка у тебя была и с прошлыми триггерами, когда цвет текста (фореграунд) не менялся при нажатии IsPressed, 
                т.к. триггер IsFocused срабатывал вместе с IsPressed и перебивал его
                
                2
                
                БЛЯЯЯЯЯ крч нет это дебилизм я попробовала все в одном бордере и все прекрасно работает, но пока  оставим как делает дядя на ютубе
                
                
                -->


                <!-- триггероы  которые нам дают эффект заднего фона когда мы на кнопочки фокусируем-->
                <Border Name="BackBtn2" Background="White">
                    <Border.Style>
                        <Style TargetType="Border">
                            <Setter Property="Opacity" Value="0"/>
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding RelativeSource={RelativeSource Mode=FindAncestor,
                                 AncestorType={x:Type Button}},
                                   Path=IsFocused}" Value="True">
                                    <Setter Property="Opacity" Value="0.2"/>
                                </DataTrigger>



                            </Style.Triggers>
                        </Style>
                    </Border.Style>

                </Border>
                <!-- КОНЕЦ!!!! тили для триггеров которые нам дают эффект заднего фона когда мы на кнопочки фокусируем ПОЧЕМУ ВСЕ НЕЛЬЗЯ В ОДНОМ 7777777777-->


                <!-- За каким то хуем мы создаем еще один бордер что бы сделать синенькую полосочку  -->
                <Border Name="BackBtn3" >
                    <Border.Style>
                        <Style TargetType="Border">

                            <!-- Устанавливаем начальные значения свойств -->
                            <!-- Скрываем Border по умолчанию -->
                            <Setter Property="Visibility" Value="Hidden"/>
                            <!-- Устанавливаем толщину рамки: 7 пикселей слева и 0 пикселей в остальных направлениях -->
                            <Setter Property="BorderThickness" Value="7,0,0,0"/>
                            <!-- Устанавливаем цвет рамки на "Aqua" (аквамариновый) -->
                            <Setter Property="BorderBrush" Value="Aqua"/>

                            <Style.Triggers>
                                <DataTrigger Binding="{Binding RelativeSource={RelativeSource Mode=FindAncestor,
                                    AncestorType={x:Type Button}},
                   Path=IsFocused}" Value="True">
                                    <Setter Property="Visibility" Value="Visible"/>
                                </DataTrigger>



                            </Style.Triggers>
                        </Style>
                    </Border.Style>

                </Border>
                <!-- КОНЕЦ!!!! За каким то хуем мы создаем еще один бордер что бы сделать синенькую полосочку -->

            </Grid>
        </ControlTemplate>
    </Window.Resources>
    
    
    
    <Grid>

        <Grid.Background>
            <ImageBrush ImageSource="Rec/Background/account.png" />
        </Grid.Background> 

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="25*"/>
            <ColumnDefinition Width="75*"/>
        </Grid.ColumnDefinitions>

        <Grid.RowDefinitions>

            <RowDefinition Height="20*"/>
            <RowDefinition Height="100*"/>

        </Grid.RowDefinitions>



        <Grid x:Name="MenuIcon" Grid.Column="0" Grid.Row="0" >
            <Border  BorderThickness="2,2,2,2" BorderBrush="Cyan" >





                <Label    VerticalAlignment="Center" Foreground="Cyan"  HorizontalAlignment="Center">
                    <Label.Style>
                        <Style TargetType="Label">
                            <Setter Property="Content" Value="Меню"/>
                            <Setter Property="FontFamily" Value="rec\fonts\#ForestSmooth Regular"/>
                            <Setter Property="FontSize" Value="80"/>
                            <Style.Triggers>




                                <DataTrigger Binding="{Binding Path=IsChecked, ElementName=OpenClosesMenu}" Value="true">
                                    <Setter Property="Content" Value="Life"/>
                                    <Setter Property="FontFamily" Value="Rec\fonts\#ForestSmooth Regular"/>
                                    <Setter Property="FontSize" Value="100"/>
                                </DataTrigger>










                            </Style.Triggers>


                        </Style>
                    </Label.Style>

                </Label>





























            </Border>
        </Grid>

        <Grid x:Name="Menu" Grid.Column="0" Grid.Row="1">

            <Grid.Style>
                <Style TargetType="Grid">
                    <!-- На этом месте была эта поебота <Setter Property="Width" Value="225"/>, но она оказлась бессмыслена 
                    т.к. все размеры мы указывали в процентах в самом начале работы (и я ваще хз скоко пикселнй будет в 25*-->

                    <Style.Triggers>
                        <DataTrigger Binding="{Binding Path=IsChecked, ElementName=OpenClosesMenu}" Value="true">
                            <Setter Property="Width" Value="0"/>
                        </DataTrigger>
                    </Style.Triggers>

                </Style>
            </Grid.Style>

            <Border BorderThickness="2,0,2,2" BorderBrush="Cyan" Grid.ColumnSpan="2"/>
            <Border BorderThickness="0" Background="Black" Opacity="0.5" Grid.ColumnSpan="2"/>
            <StackPanel Grid.ColumnSpan="2">

                <Button Template="{StaticResource ResourceKey=MenuBtn}" Command="{Binding OpenPoiskPage}"
                Content= "Поиск" Click="Button_Click" >
                </Button>

                <Button Template="{StaticResource ResourceKey=MenuBtn}" Command="{Binding OpenAccountPage}"
                Content= "Account" Click="Account_Click" >
                </Button>

                <Button Template="{StaticResource ResourceKey=MenuBtn}" Command="{Binding OpenLikePage}"
                 Content= "Комментарии" Click="Button_Click_2"  >
                </Button>

                <Button Template="{StaticResource ResourceKey=MenuBtn}" Command="{Binding OpenLifePage}"
                 Content= "Life" Click="Style_Life_Click"/>


                <Button Template="{StaticResource ResourceKey=MenuBtn}" 
                 Content= "Выход" Click="Button_Click_1"/>


            </StackPanel>



        </Grid>

       

        <Grid x:Name="Content" Grid.Column="1" Grid.Row="1">
            <!-- Создаем кнопочку что бы можно было вдвигать и выдвигать менюшечку -->
            <!-- Focusable="False" Делает так что бы при нажатии на иконка навождение с кнопок не спадало-->
            <ToggleButton Focusable="False" x:Name="OpenClosesMenu" Height="100" Width="100" VerticalAlignment="Bottom" HorizontalAlignment="Left" Margin="20,0,0,0" Cursor="Hand">
                <ToggleButton.Template>
                    <ControlTemplate>
                        <Image>
                            <!-- Добавляем RenderTransform для сдвига изображения -->
                            <Image.RenderTransform>
                                <TranslateTransform x:Name="translateTransform" X="0" Y="0"/>
                            </Image.RenderTransform>

                            <Image.Style>
                                <Style TargetType="Image">
                                    <Setter Property="Source" Value="Rec\Icons\backleft.png"></Setter>
                                    <!-- Напишем триггер, что бы менялась картинка при нажатии -->
                                    <Style.Triggers>

                                        <!-- Не работает, тк конфликтует с последним триггером -->
                                        <DataTrigger Binding="{Binding Path=IsMouseOver, ElementName=OpenClosesMenu}" Value="true">
                                            <Setter Property="Source" Value="Rec\Icons\backleftcolor.png"/>


                                        </DataTrigger>



                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource Mode=FindAncestor,
                                                AncestorType={x:Type ToggleButton}},
                                                Path=IsChecked}" Value="True">
                                            <Setter Property="Source" Value="Rec\Icons\backright.png"></Setter>










                                            <!-- Анимация для перемещения изображения при нажатии на ToggleButton -->
                                            <DataTrigger.EnterActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <!-- Анимация для X-сдвига, перемещающая картинку влево -->
                                                        <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(TranslateTransform.X)"
                                                             To="-400" 
                                                            Duration="0:0:0.3"
                                                        />
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </DataTrigger.EnterActions>

                                            <!-- Возвращаем изображение в исходное положение, когда ToggleButton снова отключается (IsChecked=False) -->
                                            <DataTrigger.ExitActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <!-- Анимация для возврата X-сдвига к начальному значению -->
                                                        <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(TranslateTransform.X)"
                                                            To="0" 
                                                            Duration="0:0:0.3"
                                                           
                                                            />
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </DataTrigger.ExitActions>





                                        </DataTrigger>


                                        <DataTrigger Binding="{Binding Path=IsMouseOver, ElementName=OpenClosesMenu}" Value="true">
                                            <Setter Property="Source" Value="Rec\Icons\backrightcolor.png"/>
                                        </DataTrigger>




                                    </Style.Triggers>
                                </Style>
                            </Image.Style>
                        </Image>
                    </ControlTemplate>
                </ToggleButton.Template>
            </ToggleButton>
        </Grid>

    



        <Grid  Grid.Column="1" Grid.Row="0">

            <TextBox x:Name="TextBoxtop"
            Background="Transparent"
            Text="Моя музыка"
            BorderThickness="0" 
            Foreground="White"
           
             FontFamily="Rec\fonts\#Alumni Sans Pinstripe Italic"
            FontSize="80"
            VerticalContentAlignment="Center"  
            HorizontalContentAlignment="Left"
            Margin="370,0,0,0"/>

        </Grid>

        <!--  <TextBox x:Name="Rating" HorizontalAlignment="Left" Height="20" Margin="0,150,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="97"/> вместо кнопок было это-->


        <Grid Grid.Column="1" Grid.Row="1">

            <!-- Список для отображения результатов поиска -->
            <StackPanel Orientation="Vertical"  HorizontalAlignment="Left">
                <Label x:Name="textBox2" Content="" FontSize="18"  Foreground="White" HorizontalAlignment="Left" Height="35" Margin="110,10,0,0" VerticalAlignment="Top" Width="380"  Cursor="Hand" Background="Transparent" BorderBrush="Cyan" BorderThickness="1" MouseLeftButtonUp="textBox2_Click"/>

                <Label x:Name="textBox4" Content="" FontSize="18"  Foreground="White" HorizontalAlignment="Left" Height="35" Margin="110,10,0,0" VerticalAlignment="Top" Width="380"  Cursor="Hand" Background="Transparent" BorderBrush="Cyan" BorderThickness="1" MouseLeftButtonUp="textBox4_Click"/>

                <Label x:Name="textBox6" Content="" FontSize="18"  Foreground="White" HorizontalAlignment="Left" Height="35" Margin="110,10,0,0" VerticalAlignment="Top" Width="380"  Cursor="Hand" Background="Transparent" BorderBrush="Cyan" BorderThickness="1" MouseLeftButtonUp="textBox6_Click"/>

                <Label x:Name="textBox11" Content="" FontSize="18"  Foreground="White" HorizontalAlignment="Left" Height="35" Margin="110,10,0,0" VerticalAlignment="Top" Width="380"  Cursor="Hand" Background="Transparent" BorderBrush="Cyan" BorderThickness="1" MouseLeftButtonUp="textBox11_Click"/>

                <Label x:Name="textBox9" Content="" FontSize="18"  Foreground="White" HorizontalAlignment="Left" Height="35" Margin="110,10,0,0" VerticalAlignment="Top" Width="380"  Cursor="Hand" Background="Transparent" BorderBrush="Cyan" BorderThickness="1" MouseLeftButtonUp="textBox9_Click"/>

            </StackPanel >


            <StackPanel Orientation="Vertical"  HorizontalAlignment="Right">

                <Label x:Name="textBox3" Content="" FontSize="18"  Foreground="White" HorizontalAlignment="Left" Height="35" Margin="0,10,240,0" VerticalAlignment="Top" Width="380" Cursor="Hand" Background="Transparent" BorderBrush="Cyan" BorderThickness="1" MouseLeftButtonUp="textBox3_Click"/>

                <Label x:Name="textBox7" Content="" FontSize="18"  Foreground="White" HorizontalAlignment="Left" Height="35" Margin="0,10,250,0" VerticalAlignment="Top" Width="380"  Cursor="Hand" Background="Transparent" BorderBrush="Cyan" BorderThickness="1" MouseLeftButtonUp="textBox7_Click"/>

                <Label x:Name="textBox5" Content="" FontSize="18"  Foreground="White" HorizontalAlignment="Left" Height="35" Margin="0,10,250,0" VerticalAlignment="Top" Width="380"  Cursor="Hand" Background="Transparent" BorderBrush="Cyan" BorderThickness="1" MouseLeftButtonUp="textBox5_Click"/>

                <Label x:Name="textBox10" Content="" FontSize="18"  Foreground="White" HorizontalAlignment="Left" Height="35" Margin="0,10,250,0" VerticalAlignment="Top" Width="380"  Cursor="Hand" Background="Transparent" BorderBrush="Cyan" BorderThickness="1" MouseLeftButtonUp="textBox10_Click"/>

                <Label x:Name="textBox8" Content="" FontSize="18"  Foreground="White" HorizontalAlignment="Left" Height="35" Margin="0,10,250,0" VerticalAlignment="Top" Width="380"  Cursor="Hand" Background="Transparent" BorderBrush="Cyan" BorderThickness="1" MouseLeftButtonUp="textBox8_Click"/>
            </StackPanel >


            <Button x:Name="Like"  HorizontalAlignment="Right"  Margin="0,0,500,310" VerticalAlignment="Bottom"  Cursor="Hand"  Focusable="False" Click="Search_Like_Click">


                <!-- Хрень которая убирает границы кнопки -->
                <Button.Template>
                    <ControlTemplate TargetType="Button">
                        <ContentPresenter Content="{TemplateBinding Content}"/>
                    </ControlTemplate>
                </Button.Template>
                <!-- КОНЕЦ Хрень которая убирает границы кнопки -->


                <Label    VerticalAlignment="Center"  HorizontalAlignment="Center" Content="  Показать  " 
                 FontFamily="Rec\fonts\#ForestSmooth Regular" FontSize="40"    Background="Black" 
       
         BorderThickness="3">

                    <Label.Style>
                        <Style TargetType="Label">
                            <Setter Property="Foreground" Value="Cyan"/>
                            <Setter Property="BorderBrush" Value="Cyan"/>
                            <Setter Property="Opacity" Value="0.6"/>
                            <Style.Triggers>



                                <DataTrigger Binding="{Binding Path=IsMouseOver, ElementName=Like}"  Value="true">
                                    <Setter Property="Foreground" Value="White"/>
                                </DataTrigger>


                                <DataTrigger Binding="{Binding Path=IsMouseOver, ElementName=Like}"  Value="true">
                                    <Setter Property="BorderBrush" Value="White"/>
                                </DataTrigger>

                                <DataTrigger Binding="{Binding Path=IsMouseOver, ElementName=Like}"  Value="true">
                                    <Setter Property="Opacity" Value="0.8"/>
                                </DataTrigger>




                            </Style.Triggers>


                        </Style>
                    </Label.Style>

                </Label>


            </Button>


        </Grid>
        <Grid  Grid.Column="1" Grid.Row="1">

            <StackPanel   HorizontalAlignment="Center">

                <Button x:Name="PlaySoundButton" 
Cursor ="Hand"
HorizontalAlignment="Center" 
Focusable="False"
 Height="100"
 Width="100"
 
Margin="0, 400, 220,0" Click="PlaySoundButton_Click"
          >


                    <!-- Хрень которая убирает границы кнопки -->
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <ContentPresenter Content="{TemplateBinding Content}"/>
                        </ControlTemplate>
                    </Button.Template>
                    <!-- КОНЕЦ Хрень которая убирает границы кнопки -->


                    <Image>


                        <Image.Style>
                            <Style TargetType="Image">
                                <Setter Property="Source" Value="Rec\Icons\play.png"></Setter>
                                <!-- Напишем триггер, что бы менялась картинка при нажатии -->
                                <Style.Triggers>


                                    <DataTrigger Binding="{Binding Path=IsMouseOver, ElementName=PlaySoundButton}" Value="true">
                                        <Setter Property="Source" Value="Rec\Icons\play2.png"/>
                                    </DataTrigger>



                                </Style.Triggers>
                            </Style>
                        </Image.Style>
                    </Image>

                </Button>

                <Button x:Name="StopSoundButton" 
      Cursor ="Hand"
      HorizontalAlignment="Center" 
      Focusable="False"
          Height="100"
          Width="100"
 
          Margin="0,-100, 0,0" Click="StopSoundButton_Click">


                    <!-- Хрень которая убирает границы кнопки -->
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <ContentPresenter Content="{TemplateBinding Content}"/>
                        </ControlTemplate>
                    </Button.Template>
                    <!-- КОНЕЦ Хрень которая убирает границы кнопки -->


                    <Image>


                        <Image.Style>
                            <Style TargetType="Image">
                                <Setter Property="Source" Value="Rec\Icons\pause.png"></Setter>
                                <!-- Напишем триггер, что бы менялась картинка при нажатии -->
                                <Style.Triggers>


                                    <DataTrigger Binding="{Binding Path=IsMouseOver, ElementName=StopSoundButton}" Value="true">
                                        <Setter Property="Source" Value="Rec\Icons\pause2.png"/>
                                    </DataTrigger>



                                </Style.Triggers>
                            </Style>
                        </Image.Style>
                    </Image>

                </Button>


                <Border BorderBrush="Cyan" BorderThickness="1"   Width="800" Height="30" Margin="0,50,100,0" VerticalAlignment="Top" CornerRadius="10" >
                    <Border  Background="White" Opacity="0.1" BorderBrush="Cyan" BorderThickness="1" Margin="-0.8,-0.8,1.2,0.6"  >
                        <ProgressBar x:Name="Progress"  Width="800" Height="30" Margin="-0.8,-1.8,-2.4,-1" VerticalAlignment="Top" Background="Transparent" RenderTransformOrigin="0.505,2.313"  Maximum="141" Value="0" />
                    </Border>
                </Border>

                <Slider x:Name="Position_music" HorizontalAlignment="Center" Height="19"  VerticalAlignment="Top" Width="810"  Margin="0,-25,100,0" Foreground="Cyan"  Minimum="0" Maximum="100" Cursor="Hand" Opacity="0.2"/>







            </StackPanel >

        </Grid>





    </Grid>
</Window>
